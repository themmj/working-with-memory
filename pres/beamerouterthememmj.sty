\setbeamertemplate{navigation symbols}{}

\RequirePackage{tikz}

\newlength{\marginedPaperWidth}{\paperwidth - 0.2cm}

% Frame title
\defbeamertemplate*{frametitle}{mmj}[1][]{
	\vskip0.5cm%
	\begin{beamercolorbox}[wd=\paperwidth,ht=1.2cm]{frametitle} 
		\begin{tikzpicture}
		\useasboundingbox(0,0) rectangle(\the\paperwidth,1.2);
		{\usebeamercolor[fg]{frametitle-left}}
		\fill[color=frametitle-left.fg] (0.2,0) rectangle(\the\marginedPaperWidth,1.2);
		\ifx\insertframesubtitle\@empty%
		{\node[anchor=west] at (0.3,0.61){\usebeamerfont{frametitle}\insertframetitle};}
		\else%
		{\node[anchor= west] at (0.2,0.81){\usebeamerfont{frametitle}\insertframetitle};%
			\node[anchor= west] at (0.4,0.25){\usebeamerfont{framesubtitle}-\insertframesubtitle};}%
		\fi
		\end{tikzpicture}
	\end{beamercolorbox}
}

\setbeamertemplate{footline}{%
	\begin{minipage}[t]{0.5\paperwidth}
		\begin{beamercolorbox}[wd=3cm, ht = 1cm]{page number}
			\ifnum\thepage>1\relax%
			\vskip0.2cm%
			\hskip0.3cm%
			\insertpagenumber\,/\,\insertpresentationendpage\kern1em\vskip2pt%
			\hfill
			\fi
		\end{beamercolorbox}
	\end{minipage}
}